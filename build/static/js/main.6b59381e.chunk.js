(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(29)},21:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),o=a.n(s),c=(a(21),a(2)),i=a(3),l=a(5),u=a(4),p=a(6),m=a(1),d="http://i.piccy.info/i9/7e64428850323739848f542cc3d71fff/1543089373/182550/1281257/back.png",b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).cast=function(){"BOT_TURN"===a.props.global.currentTurn||a.props.isCasted||(a.props.castCard({value:a.props.value,sender:"USER_TARGET"}),a.props.runBot(),a.props.clearBoard())},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"part-cards-card".concat(this.props.isCasted?" casted rotated":""," ").concat(this.props.sender&&this.props.sender.toLowerCase()||""),onClick:this.cast},r.a.createElement("div",{className:"part-cards-card-front"},r.a.createElement("img",{src:d,className:"part-cards-card-front-image",alt:"card"})),r.a.createElement("div",{className:"part-cards-card-back"},r.a.createElement("img",{src:"http://i.piccy.info/i9/68c09e0c335136830933b5e1e846e159/1543089402/70868/1281257/front.png",className:"part-cards-card-back-image",alt:"card"}),r.a.createElement("span",{className:"part-cards-card-back-mark"},this.props.value)))}}]),t}(n.Component),g=Object(m.b)(function(e){return{global:e.global}},{castCard:function(e){return{type:"PUSH_CARD_TO_DESK",payload:e}},runBot:function(){return{type:"START_BOT_RUNNER",payload:""}},clearBoard:function(){return{type:"ADAPTIVE_CLEAR_BOARD",payload:""}}})(b),h=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"desk-flow-stack"},this.props.cards.map(function(e,t){var a=e.value,n=e.sender;return r.a.createElement(g,{key:t,isCasted:!0,value:a,sender:n})}))}}]),t}(n.Component),k=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"desk"},r.a.createElement("div",null),r.a.createElement("div",{className:"desk-flow"},this.props.global.gameDesk?this.props.global.gameDesk.map(function(e,t){return r.a.createElement(h,{key:t,cards:e})}):null),r.a.createElement("div",{className:"desk-cards"},"USER_TURN"===this.props.global.currentTurn?r.a.createElement("button",{className:"desk-cards-pass",onClick:this.props.passTurn},"PASS"):null,this.props.global.deskSize?r.a.createElement("img",{src:d,alt:"desk cards",className:"desk-cards-image"}):null))}}]),t}(n.Component),f=Object(m.b)(function(e){return{global:e.global}},{passTurn:function(){return{type:"PASS_CURRENT_TURN",payload:""}}})(k),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).validateInput=function(e){var t=!(!e.toString()||!e.toString().replace(/ /g,"").length);a.setState(function(){return{inputIsFail:!t,inputIsSuccess:t}})},a.startGame=function(){a.state.inputIsSuccess&&!a.props.global.inGame&&a.props.startGame()},a.state={inputIsFail:!1,inputIsSuccess:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"initmodal".concat(this.props.global.inGame?"":" visible")},r.a.createElement("div",{className:"initmodal-mat"},r.a.createElement("h1",{className:"initmodal-mat-title"},"Hi!"),r.a.createElement("p",{className:"initmodal-mat-description"},"Enter your nickname"),r.a.createElement("input",{placeholder:"Nickname",onChange:function(t){var a=t.target.value;return e.validateInput(a)},className:"initmodal-mat-input".concat(this.state.inputIsFail?" red":"").concat(this.state.inputIsSuccess?" green":"")}),r.a.createElement("button",{className:"initmodal-mat-submit".concat(this.props.global.inGame?" started":""),onClick:this.startGame},"Start game")))}}]),t}(n.Component),T=Object(m.b)(function(e){return{global:e.global}},{startGame:function(){return{type:"INITIALIZE_GAME",payload:!0}}})(E),v=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"part-cards ".concat(this.props.type.toLowerCase()," ").concat(this.props.target.toLowerCase())},this.props.global.inGame&&this.props.global.playerDesk&&this.props.global.botDesk?this.props.global["player"===this.props.target?"playerDesk":"botDesk"].map(function(t,a){return r.a.createElement(g,{key:a,value:"player"===e.props.target?t:""})}):null)}}]),t}(n.Component),O=Object(m.b)(function(e){return{global:e.global}})(v),y=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"part ".concat(this.props.type.toLowerCase()," ").concat(this.props.target)},r.a.createElement(O,{type:this.props.type,target:this.props.target}))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initModal:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState(function(){return{initModal:!0}})}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.props.global.isLoop||this.props.global.winMessage?this.props.global.isLoop?r.a.createElement("span",{className:"alertion",onClick:this.props.initGame},"TIE!"):r.a.createElement("span",{className:"alertion",onClick:this.props.initGame},this.props.global.winMessage):r.a.createElement(n.Fragment,null,r.a.createElement(T,null),r.a.createElement(y,{type:"top",target:"bot",currentTurn:this.props.global?{BOT_TURN:"bot",USER_TURN:"user"}[this.props.global.currentTurn]:""}),r.a.createElement(f,null),r.a.createElement(y,{type:"bottom",target:"player",currentTurn:this.props.global?{BOT_TURN:"bot",USER_TURN:"user"}[this.props.global.currentTurn]:""})))}}]),t}(n.Component),R=Object(m.b)(function(e){return{global:e.global}},{initGame:function(){return{type:"INITIALIZE_GAME",payload:!0}}})(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(8),S={deskSize:30,minCard:1,maxCard:10,userDeskSize:4};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=Object.assign({},e),s=function(){if(!Number.isInteger(r.deskSize)||r.deskSize>0){for(var e=[],t=S.minCard;t<=S.maxCard;t++)e.push(t);for(var a=[],n=0;n<(!Number.isInteger(r.deskSize)||r.deskSize>S.userDeskSize?S.userDeskSize:r.gameDesk);n++)a.push(e[Math.floor(Math.random()*e.length)]);return r.deskSize&&(r.deskSize-=S.userDeskSize),a}return r.deskSize<=0&&(r.botDesk&&!r.botDesk.length||r.playerDesk&&!r.playerDesk.length)?(r.botDesk.length?r.playerDesk.length||(r.winMessage="Player won!"):r.winMessage="Bot won!",[]):[]};return function e(t,a){switch(t){case"INITIALIZE_GAME":a&&(r={deskSize:S.deskSize,botDesk:s(),playerDesk:s(),inGame:!0,gameDesk:[],currentTurn:"USER_TURN",isLoop:null,winMessage:""});break;case"PUSH_CARD_TO_DESK":var n=r.gameDesk,o={value:a.value,sender:a.sender},c=!1;n.slice(-1)[0]&&1===n.slice(-1)[0].length?r.gameDesk[n.length-1].slice(-1)[0].value<=a.value&&(r.gameDesk[n.length-1].push(o),c=!0):(r.gameDesk.push([o]),c=!0),c&&(r.playerDesk.splice(r.playerDesk.findIndex(function(e){return e===a.value}),1),0===r.playerDesk.length&&(r.playerDesk=s()),r.currentTurn={BOT_TARGET:"USER_TURN",USER_TARGET:"BOT_TURN"}[a.sender]);break;case"START_BOT_RUNNER":if("BOT_TURN"===r.currentTurn){var i=r.botDesk,l=r.gameDesk.slice(-1)[0],u=function(e){r.botDesk.splice(r.botDesk.findIndex(function(t){return t===e}),1),0===r.botDesk.length&&(r.botDesk=s())};if(l&&1===l.length){var p=1/0;r.botDesk.forEach(function(e){e<p&&e>=l.slice(-1)[0].value&&(p=e)}),isFinite(p)?(r.gameDesk[r.gameDesk.length-1].push({value:p,sender:"BOT_TARGET"}),u(p),e("START_BOT_RUNNER","")):(r.isLoop=null!==r.isLoop,r.currentTurn="USER_TURN")}else r.gameDesk.push([{value:i[0],sender:"BOT_TARGET"}]),u(i[0]),r.currentTurn="USER_TURN"}break;case"PASS_CURRENT_TURN":"USER_TURN"===r.currentTurn&&(r.botDesk.length?(r.isLoop=null!==r.isLoop,r.currentTurn="BOT_TURN",e("START_BOT_RUNNER","")):r.winMessage="Bot won!");break;case"ADAPTIVE_CLEAR_BOARD":r.gameDesk&&4===r.gameDesk.length&&r.gameDesk.splice(0,2)}}(a,n),r},j=Object(D.b)({global:_}),U=Object(D.c)(j,{},window.devToolsExtension&&window.devToolsExtension());o.a.render(r.a.createElement(m.a,{store:U},r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.6b59381e.chunk.js.map